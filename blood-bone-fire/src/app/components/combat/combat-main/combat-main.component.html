<div class="combat-container">
  <h1>TOUR {{ currentTurn }}</h1>
  <div class="combat-fight">

    <div class="combat-chara-container">



      <div class="combat-chara player-1"#player>

        <div class="combat-chara-sprite"><img src="/placeholders/player_placeholder.webp" alt="character sprite"></div>

        <div class="combat-chara-name">{{ character1.name }}</div>
        <div class="devHp">HP:{{ character1.stats.hp }}</div>
        <div class="devMp">MP: {{ character1.stats.mp }}</div>
        <ul>
          <li>STR : {{character1.stats.strength}}</li>
          <li>DEX : {{character1.stats.dexterity}}</li>
          <li>INT : {{character1.stats.intelligence}}</li>
        </ul>
        @if (character1.statusEffects) {
          <ul>
            @for (eff of character1.statusEffects; track eff.name) {
              <li>{{eff.name}} ({{eff.duration}})</li>
            }
          </ul>
        }
      </div>

      <div class="combat-chara player-2" #player>
        <div class="combat-chara-sprite"><img style="transform: scaleX(-1)" src="/placeholders/player_placeholder.webp" alt="character sprite"></div>
        <div class="combat-chara-name">{{ character2.name }}</div>
        <div class="devHp">HP:{{ character2.stats.hp }}</div>
        <div class="devMp">MP: {{ character2.stats.mp }}</div>
        <div class="combat-chara-stat">
          <ul>
            <li>STR : {{character2.stats.strength}}</li>
            <li>DEX : {{character2.stats.dexterity}}</li>
            <li>INT : {{character2.stats.intelligence}}</li>
          </ul>
          @if (character2.statusEffects) {
            <ul>
              @for (eff of character2.statusEffects; track eff.name) {
                <li>{{eff.name}} ({{eff.duration}})</li>
              }
            </ul>
          }
        </div>
      </div>
    </div>

    <div class="atak">
      @for (skill of displayedSkills; track skill.id) {
          <button (click)="useSkill(skill)">
            <div class="skill-name">{{ skill.name }}</div>
            <div>{{ skill.description }}</div>
            <div>COUT :{{ skill.mpCost }} MP</div>
          </button>
      }
    </div>
  </div>
  <div class="combat-logs">
    <div class="log-title">COMBAT LOGS</div>
    <div class="log-text">
    @for (log of combatLog; track log.message) {
      <p>{{ log.message }}</p>
    }
    </div>
  </div>
  <button class="fin-combat" [routerLink]="'/'">Abandonner le combat</button>
</div>
